<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Workflow PHP | Rodolfo Berrios</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/rodber.png">
    <link rel="apple-touch-icon" href="/rodber.png">
    <link rel="alternate" type="application/rss+xml" href="https://rodolfoberrios.com/rss.xml" title="Rodolfo Berrios RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://rodolfoberrios.com/feed.atom" title="Rodolfo Berrios Atom Feed">
    <link rel="alternate" type="application/json" href="https://rodolfoberrios.com/feed.json" title="Rodolfo Berrios JSON Feed">
    <meta name="description" content="Workflow procedures for PHP">
    <meta property="article:published_time" content="2022-04-09T15:55:48.000Z">
    <meta property="og:site_name" content="Rodolfo Berrios">
    <meta property="og:title" content="Workflow PHP">
    <meta property="og:description" content="Workflow procedures for PHP">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://rodolfoberrios.com/2022/04/09/workflow-php/">
    <meta property="og:image" content="https://rodolfoberrios.com/org/chevere/packages/workflow/workflow-social.png">
    <meta name="twitter:title" content="Workflow PHP">
    <meta name="twitter:description" content="Workflow procedures for PHP">
    <meta name="twitter:url" content="https://rodolfoberrios.com/2022/04/09/workflow-php/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://rodolfoberrios.com/org/chevere/packages/workflow/workflow-social.png">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="php, chevere">
    <meta property="article:tag" content="php">
    <meta name="theme-color" content="#2c3e50">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preload" href="/assets/css/0.styles.cb22d58f.css" as="style"><link rel="preload" href="/assets/js/app.29ff170a.js" as="script"><link rel="preload" href="/assets/js/6.2d350c7c.js" as="script"><link rel="preload" href="/assets/js/3.042bda6b.js" as="script"><link rel="preload" href="/assets/js/40.8c9c3358.js" as="script"><link rel="prefetch" href="/assets/js/10.3c1b6871.js"><link rel="prefetch" href="/assets/js/11.14cf862f.js"><link rel="prefetch" href="/assets/js/12.427def72.js"><link rel="prefetch" href="/assets/js/13.43903feb.js"><link rel="prefetch" href="/assets/js/14.c5cb96ce.js"><link rel="prefetch" href="/assets/js/15.2dbe8386.js"><link rel="prefetch" href="/assets/js/16.d2eee437.js"><link rel="prefetch" href="/assets/js/17.1131ddde.js"><link rel="prefetch" href="/assets/js/18.1eccb7be.js"><link rel="prefetch" href="/assets/js/19.047a78e5.js"><link rel="prefetch" href="/assets/js/20.b73e29df.js"><link rel="prefetch" href="/assets/js/21.9456f1d3.js"><link rel="prefetch" href="/assets/js/22.8ec087ff.js"><link rel="prefetch" href="/assets/js/23.64d43cae.js"><link rel="prefetch" href="/assets/js/24.f8d305c8.js"><link rel="prefetch" href="/assets/js/25.85d3b050.js"><link rel="prefetch" href="/assets/js/26.ea720f03.js"><link rel="prefetch" href="/assets/js/27.bbcca9e7.js"><link rel="prefetch" href="/assets/js/28.38a6b416.js"><link rel="prefetch" href="/assets/js/29.0df3f5e5.js"><link rel="prefetch" href="/assets/js/30.e33956a1.js"><link rel="prefetch" href="/assets/js/31.64e62c0f.js"><link rel="prefetch" href="/assets/js/32.d7511caa.js"><link rel="prefetch" href="/assets/js/33.b2a33e63.js"><link rel="prefetch" href="/assets/js/34.3afbd281.js"><link rel="prefetch" href="/assets/js/35.e27dc2ac.js"><link rel="prefetch" href="/assets/js/36.f0473d75.js"><link rel="prefetch" href="/assets/js/37.36e0eed7.js"><link rel="prefetch" href="/assets/js/38.a7de7fae.js"><link rel="prefetch" href="/assets/js/39.7f909a9c.js"><link rel="prefetch" href="/assets/js/4.a5a6adf8.js"><link rel="prefetch" href="/assets/js/41.35a2fd8e.js"><link rel="prefetch" href="/assets/js/42.9fa8465d.js"><link rel="prefetch" href="/assets/js/43.9d3040ee.js"><link rel="prefetch" href="/assets/js/44.b79380db.js"><link rel="prefetch" href="/assets/js/45.9f615ee6.js"><link rel="prefetch" href="/assets/js/46.7a6bee1e.js"><link rel="prefetch" href="/assets/js/47.d99aa854.js"><link rel="prefetch" href="/assets/js/48.6be8e7fa.js"><link rel="prefetch" href="/assets/js/49.7e9bd27a.js"><link rel="prefetch" href="/assets/js/5.c507ac20.js"><link rel="prefetch" href="/assets/js/50.964aa997.js"><link rel="prefetch" href="/assets/js/51.f98e3edc.js"><link rel="prefetch" href="/assets/js/52.32729a44.js"><link rel="prefetch" href="/assets/js/53.d541b857.js"><link rel="prefetch" href="/assets/js/54.afa806f8.js"><link rel="prefetch" href="/assets/js/55.3b81517a.js"><link rel="prefetch" href="/assets/js/56.72cd0006.js"><link rel="prefetch" href="/assets/js/57.ffc24ebd.js"><link rel="prefetch" href="/assets/js/58.535a1f12.js"><link rel="prefetch" href="/assets/js/59.f2127a35.js"><link rel="prefetch" href="/assets/js/60.c927e111.js"><link rel="prefetch" href="/assets/js/61.9b0e807f.js"><link rel="prefetch" href="/assets/js/62.f70e4840.js"><link rel="prefetch" href="/assets/js/63.f8ce2eef.js"><link rel="prefetch" href="/assets/js/64.e2ce54b4.js"><link rel="prefetch" href="/assets/js/65.c4536268.js"><link rel="prefetch" href="/assets/js/66.3c384577.js"><link rel="prefetch" href="/assets/js/67.458b3a2d.js"><link rel="prefetch" href="/assets/js/68.ebdcf266.js"><link rel="prefetch" href="/assets/js/7.e0e0be5a.js"><link rel="prefetch" href="/assets/js/8.9dfc6da0.js"><link rel="prefetch" href="/assets/js/9.a5a8acdc.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.e12a8b30.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cb22d58f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><nav class="navbar navbar-expand-md navbar-light"><div class="container"><a href="/" class="navbar-brand"><img src="/avatars/rodber.png">
            Rodolfo Berrios
          </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg> <div class="collapse navbar-collapse"><ul class="navbar-nav ml-auto"><li class="nav-item"><a href="/tag/" class="nav-link">Tags</a></li><li class="nav-item"><a href="/about/" class="nav-link">About</a></li> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <a href="/rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></ul></div></div></nav></div></header></section> <div class="container wrapmain"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><div class="row justify-content-center"><div class="col-md-8"><header><span class="text-muted"><div class="post-meta"><!----> <div class="post-meta-date"><time pubdate itemprop="datePublished" datetime="2022-04-09T15:55:48.000Z">
      Sat, Apr 09 2022
    </time></div> <!----></div></span> <h1 itemprop="name headline" class="article-head mt-3">
            Workflow PHP
          </h1> <p class="lead">Workflow procedures for PHP</p> <div><span><div class="d-flex align-items-center"><div class="profile-avatar"><!----></div> <!----></div></span><span><div class="d-flex align-items-center"><div class="profile-avatar"><img src="/avatars/rodber.jpeg" alt="rodber" class="avatar-image"></div> <div><span>rodber</span> Â 
        <a href="https://github.com/rodber" target="_blank" rel="noopener noreferrer" class="external btn btn-sm btn-outline-dark">GitHub</a></div></div></span><span><div class="d-flex align-items-center"><div class="profile-avatar"><!----></div> <!----></div></span><span><div class="d-flex align-items-center"><div class="profile-avatar"><!----></div> <!----></div></span></div></header></div></div> <div class="row justify-content-center text-center mt-4 mb-40"><div class="col-md-9"><img src="/org/chevere/packages/workflow/workflow-social.png" class="featured-img"></div></div> <div class="row justify-content-center"><div class="col-md-8"><div itemprop="articleBody" class="content__default"><p>One of my goals with <a href="https://chevere.org" target="_blank" rel="noopener noreferrer">Chevere<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> was to learn more about problem-solving approaches and the culture that comes with them. I achieved this by exploring various software, starting with CI tools and continuing through to esoteric software practices. Among all the tools I encountered, <a href="https://github.com/features/actions" target="_blank" rel="noopener noreferrer">GitHub Actions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> caught my attention the most. It allows you to declare interconnected jobs and use actions published by third parties to stay productive. What interested me the most was the <a href="https://en.wikipedia.org/wiki/Workflow_pattern" target="_blank" rel="noopener noreferrer">workflow pattern<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which inspired me to create the <a href="https://chevere.org/packages/workflow" target="_blank" rel="noopener noreferrer">Workflow package<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for Chevere.</p> <h2 id="technical-debt"><a href="#technical-debt" class="header-anchor">#</a> Technical debt</h2> <p>When I have to produce a new system, I try to keep it neat and clean. To achieve this, I use <a href="https://en.wikipedia.org/wiki/Test-driven_development" target="_blank" rel="noopener noreferrer">TDD<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, ensure a good code coverage threshold, and aim for high <a href="https://en.wikipedia.org/wiki/Mutation_testing" target="_blank" rel="noopener noreferrer">MSI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> when possible. However, this approach can be expensive and is often sacrificed in many organizations.</p> <p>Any evolving system is prone to being patched in the MVP way, which means adding features as quickly as possible. Once done, who cares... It works, and we are making money. While the product gains features in this manner, it also accumulates <a href="https://en.wikipedia.org/wiki/Technical_debt" target="_blank" rel="noopener noreferrer">technical debt<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. This happens in any project as teams change, people bring different approaches, technology evolves, and the only person who knows the system is now 90 years old, etc.</p> <p>At some point, it will become expensive to go in any direction, whether it is to maintain, change, or replace the system.</p> <h2 id="predict-the-unknown"><a href="#predict-the-unknown" class="header-anchor">#</a> Predict the unknown</h2> <p>I can abstract predictable needs, but many aspects are too uncertain and potential candidates for a re-factoring loop as they evolve. I realized that my code went wrong when new business rules kept being added for a long period (4 years in a row). You know how it goes; you struggle in a loop to find the solution for a known problem that will keep changing over time.</p> <p>I noticed that my mess was caused by the combination of adding more features while altering permissions and not extensively testing them. I first tried with plug-in strategies and noticed that my business logic was getting sparse as I was pushing beyond what a plug-in system is meant for.</p> <p>To easily maintain the business, it requires abstracting everything into modules that can be plugged into each other.</p> <h2 id="here-be-workflows"><a href="#here-be-workflows" class="header-anchor">#</a> Here be Workflows!</h2> <p>A Workflow allows you to define a procedure consisting of a series of interconnected independent jobs. With workflows, you focus on the job units that define the process to solve the problem, rather than abstracting &quot;the problem&quot;.</p> <p>â¨ Think about it as Lego, but instead of bricks, we use <strong>Jobs</strong> which are made from templates called <strong>Actions</strong>.</p> <p>A workflow-based approach has several advantages:</p> <ul><li>Actions are reusable.</li> <li>Testing becomes lighter on the Workflow (&quot;the problem&quot;).</li> <li>Easy to rearrange jobs and their dependencies.</li> <li>Room for endless additions.</li></ul> <p><strong>Challenges</strong>:</p> <ul><li>Async (parallel) execution in PHP.</li> <li>Validating definitions.</li> <li>Run-if conditions.</li></ul> <h2 id="chevere-workflow"><a href="#chevere-workflow" class="header-anchor">#</a> Chevere Workflow</h2> <p>The <a href="https://chevere.org/packages/workflow" target="_blank" rel="noopener noreferrer">Workflow package<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> provides management for complex workflow declarations. This post is a glorified ad for my package, <em>pretends to be shocked!</em> as I believe using the workflow pattern can solve a ton of problems.</p> <h3 id="superb-syntax"><a href="#superb-syntax" class="header-anchor">#</a> Superb syntax</h3> <p>The most important aspect of Workflow is the end-user experience. It's all about enabling easy solutions to progressive problems, and its syntax reflects this motto.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Chevere<span class="token punctuation">\</span>Workflow<span class="token punctuation">\</span>job</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Chevere<span class="token punctuation">\</span>Workflow<span class="token punctuation">\</span>reference</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Chevere<span class="token punctuation">\</span>Workflow<span class="token punctuation">\</span>variable</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Chevere<span class="token punctuation">\</span>Workflow<span class="token punctuation">\</span>workflow</span><span class="token punctuation">;</span>

<span class="token function">workflow</span><span class="token punctuation">(</span>
    <span class="token argument-name">prepare</span><span class="token punctuation">:</span>
        <span class="token function">job</span><span class="token punctuation">(</span>
            <span class="token keyword">new</span> <span class="token class-name">PrepareTweet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token argument-name">message</span><span class="token punctuation">:</span> <span class="token function">variable</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'message'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token argument-name">url</span><span class="token punctuation">:</span> <span class="token function">variable</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token argument-name">send</span><span class="token punctuation">:</span>
        <span class="token function">job</span><span class="token punctuation">(</span>
            <span class="token keyword">new</span> <span class="token class-name">SendTweet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token argument-name">payload</span><span class="token punctuation">:</span> <span class="token function">reference</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'prepare'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'payload'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="actions"><a href="#actions" class="header-anchor">#</a> Actions</h3> <p><a href="https://chevere.org/packages/action" target="_blank" rel="noopener noreferrer">Actions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> contain the logic for Workflow jobs and are responsible for declaring the <code>main()</code> method and its expected response parameters. Actions can be <em>anything</em>, although my recommendation is to keep actions as minimal as possible.</p> <p>Don't hesitate to split a process into four, twelve, or more job-actions. That's the point! The more you <em>unitize</em> the procedures, the easier it gets to maintain and keep all moving parts willing to move.</p> <h3 id="variables-references"><a href="#variables-references" class="header-anchor">#</a> Variables &amp; References</h3> <p>It uses <code>variable('var')</code> for declaring Workflow variables that must be passed by the Workflow runner. It uses <code>reference('job', 'key')</code> to reference previous jobs' response keys.</p> <p>Variables <code>variable('message')</code> and <code>variable('url')</code> are Workflow variables, while <code>reference('prepare', 'payload')</code> is a Job response reference. Job <code>send</code> needs a payload parameter, which passes <code>reference('prepare', 'payload')</code>. This job implicitly declares that it depends on the <code>prepare</code> Job and will always run after <code>prepare</code>.</p> <h3 id="dependencies"><a href="#dependencies" class="header-anchor">#</a> Dependencies</h3> <p>Workflow supports explicitly declared job dependencies using the <code>withDepends</code> method. A job won't run until its previous job dependencies are resolved, and it determines a dependency graph for this purpose.</p> <h3 id="async"><a href="#async" class="header-anchor">#</a> Async</h3> <p>Workflow uses <a href="https://amphp.org/" target="_blank" rel="noopener noreferrer">amphp<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to handle parallel processing. This is <em>true parallel processing</em> using multiple processes or native threads, without blocking.</p> <p>Jobs run async by default if no dependencies are declared (either implicit or explicit).</p> <h3 id="strict"><a href="#strict" class="header-anchor">#</a> Strict</h3> <p>Workflow gets validated against the complete declaration, and Job references must be compatible with each other. Job declarations must match the Action binding, and Jobs' variables and reference parameters are asserted for matching.</p> <h3 id="extensible"><a href="#extensible" class="header-anchor">#</a> Extensible</h3> <p>Workflows can grow wildly under many strategies. For example, using a base Workflow for common functionality, packing related Actions in packages, adding a plugin layer to enable users to add their own extra Job, etc.</p> <h2 id="feedback"><a href="#feedback" class="header-anchor">#</a> Feedback</h2> <p>By the time I'm writing this, the Workflow package is in early preview (<code>0.8</code>) and is missing essential features like conditional job syntax. You are welcome to contribute and provide feedback at <a href="https://github.com/chevere/workflow" target="_blank" rel="noopener noreferrer">chevere/workflow<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>I hope this problem-solving approach can help you tackle your problems in a cheaper and more maintainable manner.</p></div></div></div></article> <div class="row justify-content-center"><div class="col-md-9"><!----> <!----></div></div> <div class="row justify-content-center mt-40"><div class="col-md-8"><div class="post-meta"><!----> <!----> <div itemprop="keywords" class="post-meta-tags"><a href="/tag/php" class="blog-tag" data-v-4217f36d> php </a><a href="/tag/chevere" class="blog-tag" data-v-4217f36d> chevere </a></div></div></div></div> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#technical-debt" title="Technical debt">Technical debt</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#predict-the-unknown" title="Predict the unknown">Predict the unknown</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#here-be-workflows" title="Here be Workflows!">Here be Workflows!</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#chevere-workflow" title="Chevere Workflow">Chevere Workflow</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#superb-syntax" title="Superb syntax">Superb syntax</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#actions" title="Actions">Actions</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#variables-references" title="Variables &amp; References">Variables &amp; References</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#dependencies" title="Dependencies">Dependencies</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#async" title="Async">Async</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#strict" title="Strict">Strict</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#extensible" title="Extensible">Extensible</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#feedback" title="Feedback">Feedback</a></div></div></div></div> <footer class="themefooter"><div class="container"><div class="row justify-content-between"><div class="col"><span>Rodolfo blogging since 2012.</span></div> <div class="col text-right"><ul class="list-unstyled"><li class="contact-item"><a href="https://github.com/rodber" target="_blank" rel="noopener noreferrer" class="external"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
              
            </a></li><li class="contact-item"><a href="https://www.linkedin.com/in/rodber/" target="_blank" rel="noopener noreferrer" class="external"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
              
            </a></li><li class="contact-item"><a href="https://twitter.com/godlike" target="_blank" rel="noopener noreferrer" class="external"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
              
            </a></li><li class="contact-item"><a href="mailto:inbox@rodolfoberrios.com" class="external"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
              
            </a></li><li class="contact-item"><a href="https://rodolfoberrios.com" target="_blank" rel="noopener noreferrer" class="external"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
              
            </a></li></ul> <ul class="list-unstyled"></ul></div></div></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.29ff170a.js" defer></script><script src="/assets/js/6.2d350c7c.js" defer></script><script src="/assets/js/3.042bda6b.js" defer></script><script src="/assets/js/40.8c9c3358.js" defer></script>
  </body>
</html>
